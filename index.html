<!DOCTYPE html>
<head>
    <meta charset="utf-8"/>
    <title>리턴 가정의 달 이벤트</title>
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="리턴 5월 가정의 달 이벤트">
    <meta property="og:description" content="리턴 5월 가정의 달 이벤트 - 지금바로 참여해보세요!">
    <meta property="og:image" content="https://ifh.cc/g/HRv08p.jpg">
    <meta property="og:url" content="https://event.luxeret.com">
    <meta name="description" content="리턴 5월 가정의 달 이벤트 - 지금바로 참여해보세요!">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>

    <link rel="icon" type="image/png" href="/assets/image/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/assets/image/favicon.svg" />
    <link rel="shortcut icon" href="/assets/image/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/image/favicon.ico" />
    <link rel="manifest" href="/assets/image/site.webmanifest" />
</head>
  <style>
    @font-face {
      font-family: 'Pretendard-Medium';
      src: url('https://fastly.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Medium.woff') format('woff');
      font-weight: 400;
      font-style: normal;
    }

    body {
      height: 100vh;
      background: linear-gradient(135deg, #ffe8ec 0%, #ffe8f0 100%);
      color: #a052b5;
      font-family: Pretendard-Medium;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      margin: 0;
      overflow: hidden;
    }

    h1 {
      font-size: 48px;
      margin-bottom: 30px;
      font-weight: 700;
    }

    #countdown {
      font-size: 36px;
      font-weight: bold;
    }

    @media (max-width: 600px) {
      h1 {
        font-size: 32px;
      }

      #countdown {
        font-size: 24px;
      }

      .share-button {
        font-size: 16px;
        padding: 10px 20px;
      }

      .popup {
        font-size: 14px;
      }
    }

    .share-button {
      margin-top: 20px;
      padding: 12px 24px;
      background-color: #a052b5;
      color: white;
      font-size: 18px;
      font-weight: bold;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .share-button:hover {
      background-color: #8a3d94;
    }

    .popup {
      margin-top: 10px;
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      display: none;
      font-size: 16px;
    }

    .popup.show {
      display: block;
    }
  </style>
</head>
<body>
  <h1>리턴 가정의 달 이벤트까지</h1>
  <div id="countdown">로딩 중...</div>

  <button class="share-button" onclick="shareLink()">
    친구한테 공유하기
    <svg width="20px" height="20px" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-left: 10px;">
      <rect width="48" height="48" fill="white" fill-opacity="0.01"/>
      <path d="M26 6H42V22" stroke="#ffffff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M42 29.4737V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9C6 7.34315 7.34315 6 9 6L18 6" stroke="#ffffff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M25.8 22.2L41.1 6.89999" stroke="#ffffff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  
  <div class="popup" id="popup">링크가 복사되었어요!</div>

  <canvas id="sakura" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;pointer-events:none;"></canvas>

  <script>
    // 벚꽃 효과
    const canvas = document.getElementById('sakura');
    const ctx = canvas.getContext('2d');
    let width, height;

    function resizeCanvas() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    const petals = [];
    const petalCount = 30;

    for (let i = 0; i < petalCount; i++) {
      petals.push({
        x: Math.random() * width,
        y: Math.random() * height,
        radius: Math.random() * 5 + 3,
        speedX: Math.random() * 1 - 0.5,
        speedY: Math.random() * 2 + 1,
        angle: Math.random() * Math.PI * 2,
        rotation: Math.random() * 0.02 - 0.01,
      });
    }

    function drawPetals() {
      ctx.clearRect(0, 0, width, height);
      ctx.fillStyle = 'rgba(255, 192, 203, 0.8)';
      petals.forEach(petal => {
        petal.x += petal.speedX;
        petal.y += petal.speedY;
        petal.angle += petal.rotation;

        if (petal.y > height) {
          petal.y = -10;
          petal.x = Math.random() * width;
        }

        ctx.beginPath();
        const size = petal.radius;
        const x = petal.x + Math.sin(petal.angle) * 2;
        ctx.ellipse(x, petal.y, size, size / 2, petal.angle, 0, 2 * Math.PI);
        ctx.fill();
      });

      requestAnimationFrame(drawPetals);
    }

    drawPetals();

    // 클릭 시 꽃잎 터지는 이펙트
    canvas.addEventListener('click', function(e) {
      const count = 20;
      const clickX = e.clientX;
      const clickY = e.clientY;

      for (let i = 0; i < count; i++) {
        petals.push({
          x: clickX,
          y: clickY,
          radius: Math.random() * 5 + 3,
          speedX: Math.random() * 4 - 2,
          speedY: Math.random() * 4 - 2,
          angle: Math.random() * Math.PI * 2,
          rotation: Math.random() * 0.02 - 0.01,
        });
      }
    });

    // 카운트다운 관련 코드
    const openDate = new Date("2025-05-01T00:00:00");

    function updateCountdown() {
      const now = new Date();
      const diff = openDate - now;
      const countdown = document.getElementById("countdown");

      if (diff <= 0) {
        countdown.innerText = "오픈 완료!";
        document.title = "리턴 이벤트 OPEN!";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      countdown.innerText = `${days}일 ${hours}시간 ${minutes}분 ${seconds}초 남았어요!`;

      // 웹사이트 탭 제목 변경
      document.title = `리턴 가정의 달 이벤트 D-${days}`;
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);

    // 링크 복사 및 공유 기능
    function shareLink() {
      const link = window.location.href;
      if (navigator.share) {
        navigator.share({
          title: '리턴 5월 가정의 달 이벤트',
          url: link
        }).then(() => {
          showPopup();
        }).catch((err) => {
          alert("공유에 실패했습니다.");
        });
      } else {
        const tempInput = document.createElement('input');
        document.body.appendChild(tempInput);
        tempInput.value = link;
        tempInput.select();
        document.execCommand('copy');
        document.body.removeChild(tempInput);
        
        // 팝업 표시
        showPopup();
      }
    }

    function showPopup() {
      const popup = document.getElementById('popup');
      popup.classList.add('show');
      setTimeout(() => {
        popup.classList.remove('show');
      }, 2000); // 2초 후 팝업 사라짐
    }
  </script>
</body>
</html>